<!DOCTYPE html>
<html>
<head>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <script>
      document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] =
          document.querySelector('meta[name="csrf-token"]').content;
      });
    </script>

    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <title>{{ dataset.name }}</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 6px;
            text-align: left;
        }
        th {
            background: #f4f4f4;
        }
    </style>
</head>
<body>
    <h1>{{ dataset.name }}</h1>
    
    <div
        hx-get="{% url 'dataset_detail' dataset.id %}"
        hx-trigger="load"
        hx-target="#rows"
        hx-swap="innerHTML"
    >
        <div id="rows">
            {% include "pyramydal_core/_dataset_rows.html" %}
        </div>
    </div>

    <p><a href="{% url 'dataset_list' %}">Back to datasets</a></p>
</body>
</html>
